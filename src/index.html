<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>AF Structured Selling 2025</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="./styles.css">
</head>
<body class="min-h-screen">
  <header class="px-6 md:px-10 py-8">
    <div class="max-w-6xl mx-auto flex flex-col md:flex-row md:items-end justify-between gap-4">
      <div>
        <h1 class="text-3xl md:text-4xl font-extrabold">AF Structured Selling 2025</h1>
        <p class="text-sm text-[color:var(--muted)] mt-1">Wallets:<br>
            <a class="bg-white/5 px-1.5 py-0.5 rounded inline-block mt-1" target="_blank" rel="noopener" href="https://allo.info/account/37VPAD3CK7CDHRE4U3J75IE4HLFN5ZWVKJ52YFNBX753NNDN6PUP2N7YKI">37VPAD3CK7CDHRE4U3J75IE4HLFN5ZWVKJ52YFNBX753NNDN6PUP2N7YKI</a><br>
            <a class="bg-white/5 px-1.5 py-0.5 rounded inline-block mt-1" target="_blank" rel="noopener" href="https://allo.info/account/44GWRTQGSAYUJJCQ3GFINYKZXMBDVKCF75VMCXKORN7ZJ6BKPNG2RMGH7E">44GWRTQGSAYUJJCQ3GFINYKZXMBDVKCF75VMCXKORN7ZJ6BKPNG2RMGH7E</a>
        </p>
        <p class="text-xs text-[color:var(--muted)]">Date range: 2025‑01‑01 → 2025‑12‑31</p>
      </div>
      <div class="flex gap-2 text-xs">
        <span id="countBadge" class="px-2 py-1 rounded bg-white/5 ring-1 ring-[color:var(--ring)]">0 rows</span>
      </div>
    </div>
  </header>

  <main class="px-6 md:px-10 pb-20">
    <div class="max-w-6xl mx-auto grid gap-6">

      <section class="card rounded-2xl p-6 ring-1 ring-[color:var(--ring)]">
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
          <div class="text-center">
            <div class="text-2xl font-bold text-green-400" id="totalAlgo">0</div>
            <div class="text-sm text-[color:var(--muted)]">TOTAL ALGO SOLD</div>
          </div>
          <div class="text-center">
            <div class="text-2xl font-bold text-blue-400" id="totalUsd">0</div>
            <div class="text-sm text-[color:var(--muted)]">TOTAL USD</div>
          </div>
          <div class="text-center">
            <div class="text-2xl font-bold text-purple-400" id="avgRate">0.0</div>
            <div class="text-sm text-[color:var(--muted)]">AVERAGE RATE</div>
          </div>
        </div>
      </section>


      <section class="card rounded-2xl p-4 ring-1 ring-[color:var(--ring)]">
        <div class="flex flex-col md:flex-row md:items-center justify-between gap-3">
          <div class="flex items-center gap-3">
            <button id="reloadBtn" class="bg-white/5 hover:bg-white/10 px-3 py-2 rounded-lg text-sm ring-1 ring-[color:var(--ring)]">Reload</button>
            <button id="exportCsv" class="bg-indigo-600 hover:bg-indigo-500 px-3 py-2 rounded-lg text-sm font-semibold">Download CSV</button>
            <button id="toggleGraphsBtn" class="bg-white/5 hover:bg-white/10 px-3 py-2 rounded-lg text-sm ring-1 ring-[color:var(--ring)]">Show charts</button>
          </div>
          <div class="text-xs text-[color:var(--muted)]">Click any column header to sort ↑/↓</div>
        </div>
      </section>

      <section id="graphsSection" class="card rounded-2xl p-4 ring-1 ring-[color:var(--ring)]" style="display:none;">
        <div class="flex items-center justify-between mb-3">
          <div class="flex gap-2 items-center">
          </div>
        </div>
        <div class="w-full" style="text-align:center;">
          <canvas id="chartCanvas" width="1000" height="480" class="w-full"></canvas>
        </div>
      </section>


      <section class="card rounded-2xl overflow-hidden ring-1 ring-[color:var(--ring)]">
        <div class="overflow-x-auto">
          <table class="min-w-full text-left text-sm">
            <thead class="text-xs uppercase text-[color:var(--muted)]">
              <tr>
                <th class="px-4 py-3 cursor-pointer" data-sort="id">ID</th>
                <th class="px-4 py-3 cursor-pointer" data-sort="time">Date - TIME (UTC)</th>
                <th class="px-4 py-3 cursor-pointer" data-sort="wallet">Wallet</th>
                <th class="px-4 py-3 cursor-pointer" data-sort="amount">Sold Amount (ALGO)</th>
                <th class="px-4 py-3 cursor-pointer" data-sort="usd">USD Value</th>
                <th class="px-4 py-3 cursor-pointer" data-sort="rate">Rate (USD/ALGO)</th>
              </tr>
            </thead>
            <tbody id="tbody" class="divide-y divide-white/5"></tbody>
          </table>
        </div>
      </section>
      <section class="text-center text-xs">
        <p class="text-[color:var(--muted)]">
          Disclaimer: This site utilizes publicly accessible data to estimate the results of Algorand Foundation Structured Selling. In the event of any discrepancies, the data provided by the Algorand Foundation should be considered the authoritative source.
        </p>
        <p class="mt-1">
          <a href="https://x.com/MetaGrat" target="_blank" rel="noopener" class="text-blue-400 opacity-80 hover:opacity-100">
            built by metagrat
          </a>
        </p>
      </section>
    </div>
  </main>

  <script type="module" src="./main.ts"></script>
</body>
</html>
